

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Xonsh Change Log &mdash; xonsh 0.4.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../_static/magic_conch.ico"/>
    <link rel="top" title="xonsh 0.4.0 documentation" href="../index.html" />
    <link rel="up" title="Previous Versions" href="index.html" />
    <link rel="next" title="Xonsh 0.2 Release Notes" href="0.2_release_notes.html" />
    <link rel="prev" title="Previous Versions" href="index.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body role="document">
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="0.2_release_notes.html" title="Xonsh 0.2 Release Notes"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Previous Versions"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">xonsh 0.4.0 documentation</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Previous Versions</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="xonsh-change-log">
<h1>Xonsh Change Log<a class="headerlink" href="#xonsh-change-log" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v0-4-0">
<h2>v0.4.0<a class="headerlink" href="#v0-4-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p class="first">A new class, <code class="docutils literal"><span class="pre">xonsh.tools.EnvPath</span></code> has been added. This class implements a
<code class="docutils literal"><span class="pre">MutableSequence</span></code> object and overrides the <code class="docutils literal"><span class="pre">__getitem__</span></code> method so that
when its entries are requested (either explicitly or implicitly), variable
and user expansion is performed, and relative paths are resolved.
<code class="docutils literal"><span class="pre">EnvPath</span></code> accepts objects (or lists of objects) of <code class="docutils literal"><span class="pre">str</span></code>, <code class="docutils literal"><span class="pre">bytes</span></code> or
<code class="docutils literal"><span class="pre">pathlib.Path</span></code> types.</p>
</li>
<li><p class="first">New amalgamate tool collapses modules inside of a package into a single
<code class="docutils literal"><span class="pre">__amalgam__.py</span></code> module. This tool glues together all of the code from the
modules in a package, finds and removes intra-package imports, makes all
non-package imports lazy, and adds hooks into the <code class="docutils literal"><span class="pre">__init__.py</span></code>.
This helps makes initial imports of modules fast and decreases startup time.
Packages and sub-packages must be amalgamated separately.</p>
</li>
<li><p class="first">New lazy and self-destructive module <code class="docutils literal"><span class="pre">xonsh.lazyasd</span></code> adds a suite of
classes for delayed creation of objects.</p>
<blockquote>
<div><ul class="simple">
<li>A <code class="docutils literal"><span class="pre">LazyObject</span></code> won&#8217;t be created until it has an attribute accessed.</li>
<li>A <code class="docutils literal"><span class="pre">LazyDict</span></code> will load each value only when a key is accessed.</li>
<li>A <code class="docutils literal"><span class="pre">LazyBool</span></code> will only be created when <code class="docutils literal"><span class="pre">__bool__()</span></code> is called.</li>
</ul>
</div></blockquote>
<p>Additionally, when fully loaded, the above objects will replace themselves
by name in the context that they were handed, thus derefenceing themselves.
This is useful for global variables that may be expensive to create,
should only be created once, and may not be used in any particular session.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">xon.sh</span></code> script added for launching xonsh from a sh environment.
This should be used if the normal <code class="docutils literal"><span class="pre">xonsh</span></code> script does not work for
some reason.</p>
</li>
<li><p class="first">Normal globbing is now available in Python mode via <code class="docutils literal"><span class="pre">g``</span></code></p>
</li>
<li><p class="first">Backticks were expanded to allow searching using arbitrary functions, via
<code class="docutils literal"><span class="pre">&#64;&lt;func&gt;``</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">xonsh.platform</span></code> now has a new <code class="docutils literal"><span class="pre">PATH_DEFAULT</span></code> variable.</p>
</li>
<li><p class="first">Tab completers can now raise <code class="docutils literal"><span class="pre">StopIteration</span></code> to prevent consideration of
remaining completers.</p>
</li>
<li><p class="first">Added tab completer for the <code class="docutils literal"><span class="pre">completer</span></code> alias.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">Block</span></code> and <code class="docutils literal"><span class="pre">Functor</span></code> context managers are now available as
part of the <code class="docutils literal"><span class="pre">xonsh.contexts</span></code> module.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Block</span></code> provides support for turning a context body into a non-executing
list of string lines. This is implmement via a syntax tree transformation.
This is useful for creating remote execution tools that seek to prevent
local execution.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Functor</span></code> is a subclass of the <code class="docutils literal"><span class="pre">Block</span></code> context manager that turns the
block into a callable object.  The function object is available via the
<code class="docutils literal"><span class="pre">func()</span></code> attribute.  However, the <code class="docutils literal"><span class="pre">Functor</span></code> instance is itself callable
and will dispatch to <code class="docutils literal"><span class="pre">func()</span></code>.</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">$VC_BRANCH_TIMEOUT</span></code> environment variable is the time (in seconds)
of how long to spend attempting each individual version control branch
information command during <code class="docutils literal"><span class="pre">$PROMPT</span></code> formatting.  This allows for faster
prompt resolution and faster startup times.</p>
</li>
<li><p class="first">New lazy methods added to CommandsCache allowing for testing and inspection
without the possibility of recomputing the cache.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p>
</li>
<li><p class="first">Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p>
</li>
<li><p class="first">Tab completion of paths now includes zsh-style path expansion (subsequence
matching), toggleable with <code class="docutils literal"><span class="pre">$SUBSEQUENCE_PATH_COMPLETION</span></code></p>
</li>
<li><p class="first">Tab completion of paths now includes &#8220;fuzzy&#8221; matches that are accurate to
within a few characters, toggleable with <code class="docutils literal"><span class="pre">$FUZZY_PATH_COMPLETION</span></code></p>
</li>
<li><p class="first">Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</p>
</li>
<li><p class="first">Arguments &#8216;+&#8217; and &#8216;-&#8216; for the <code class="docutils literal"><span class="pre">fg</span></code> command (job control)</p>
</li>
<li><p class="first">Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p>
</li>
<li><p class="first">Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p>
</li>
<li><p class="first">XonshError and XonshCalledProcessError are now in builtins</p>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">session</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">xonsh</span></code>
<code class="docutils literal"><span class="pre">history</span> <span class="pre">all</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">zsh</span></code></li>
<li><code class="docutils literal"><span class="pre">history</span> <span class="pre">bash</span></code></li>
<li><code class="docutils literal"><span class="pre">__xonsh_history__.show()</span></code></li>
</ul>
<ul class="simple">
<li>New <code class="docutils literal"><span class="pre">pathsep_to_set()</span></code> and <code class="docutils literal"><span class="pre">set_to_pathsep()</span></code> functions convert to/from
<code class="docutils literal"><span class="pre">os.pathsep</span></code> separated strings to a set of strings.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Changed testing framework from nose to pytest</li>
<li>All <code class="docutils literal"><span class="pre">PATH</span></code>-like environment variables are now stored in an <code class="docutils literal"><span class="pre">EnvPath</span></code>
object, so that non-absolute paths or paths containing environment variables
can be resolved properly.</li>
<li>In <code class="docutils literal"><span class="pre">VI_MODE</span></code>, the <code class="docutils literal"><span class="pre">v</span></code> key will enter character selection mode, not open
the editor.  <code class="docutils literal"><span class="pre">Ctrl-X</span> <span class="pre">Ctrl-E</span></code> will still open an editor in any mode</li>
<li><code class="docutils literal"><span class="pre">$XONSH_DEBUG</span></code> will now supress amalgamted imports. This usually needs to be
set in the calling environment or prior to <em>any</em> xonsh imports.</li>
<li>Restuctured <code class="docutils literal"><span class="pre">xonsh.platform</span></code> to be fully lazy.</li>
<li>Restuctured <code class="docutils literal"><span class="pre">xonsh.ansi_colors</span></code> to be fully lazy.</li>
<li>Ensured the <code class="docutils literal"><span class="pre">pygments</span></code> and <code class="docutils literal"><span class="pre">xonsh.pyghooks</span></code> are not imported until
actually needed.</li>
<li>Yacc parser is now loaded in a background thread.</li>
<li>Cleaned up argument parsing in <code class="docutils literal"><span class="pre">xonsh.main.premain</span></code> by removing the
<code class="docutils literal"><span class="pre">undo_args</span></code> hack.</li>
<li>Now complains on invalid arguments.</li>
<li><code class="docutils literal"><span class="pre">Env</span></code> now guarantees that the <code class="docutils literal"><span class="pre">$PATH</span></code> is available and mutable when
initialized.</li>
<li>On Windows the <code class="docutils literal"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before
sourcing <a href="#id1"><span class="problematic" id="id2">*</span></a>.bat files.</li>
<li>On Windows the <code class="docutils literal"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before starting
subprocesses. This prevents the unformatted xonsh <code class="docutils literal"><span class="pre">PROMPT</span></code> tempalte from showing up
when running batch files with <code class="docutils literal"><span class="pre">ECHO</span> <span class="pre">ON`</span></code></li>
<li><code class="docutils literal"><span class="pre">&#64;()</span></code> now passes through functions as well as strings, which allows for the
use of anonymous aliases and aliases not explicitly added to the <code class="docutils literal"><span class="pre">aliases</span></code>
mapping.</li>
<li>Functions in <code class="docutils literal"><span class="pre">Execer</span></code> now take <code class="docutils literal"><span class="pre">transform</span></code> kwarg instead of
<code class="docutils literal"><span class="pre">wrap_subproc</span></code>.</li>
<li>Provide <code class="docutils literal"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script&#8217;s path</li>
<li>XonshError and XonshCalledProcessError are now in builtins</li>
<li><code class="docutils literal"><span class="pre">__repr__</span></code> on the environment only shows a short representation of the
object instead of printing the whole environment dictionary</li>
<li>More informative prompt when configuring foreign shells in the wizard.</li>
<li><code class="docutils literal"><span class="pre">CommandsCache</span></code> is now a mapping from command names to a tuple of
(executable locations, has alias flags). This enables faster lookup times.</li>
<li><code class="docutils literal"><span class="pre">locate_bin()</span></code> now uses the <code class="docutils literal"><span class="pre">CommandsCache</span></code>, rather than scanning the
<code class="docutils literal"><span class="pre">$PATH</span></code> itself.</li>
<li><code class="docutils literal"><span class="pre">$PATHEXT</span></code> is now a set, rather than a list.</li>
<li>Ignore case and leading a quotes when sorting completions</li>
</ul>
<p><strong>Removed:</strong></p>
<p>None</p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">'console_scripts'</span></code> option to setuptools has been removed. It was found
to cause slowdowns of over 150 ms on every startup.</li>
<li>Bash is no longer loaded by default as a foreign shell for initial
configuration. This was done to increase stock startup times. This
behaviour can be recovered by adding <code class="docutils literal"><span class="pre">{&quot;shell&quot;:</span> <span class="pre">&quot;bash&quot;}</span></code> to your
<code class="docutils literal"><span class="pre">&quot;foreign_shells&quot;</span></code> in your config.json file. For more details,
see <a class="reference external" href="http://xon.sh/xonshconfig.html#foreign-shells">http://xon.sh/xonshconfig.html#foreign-shells</a></li>
<li><code class="docutils literal"><span class="pre">ensure_git()</span></code> and <code class="docutils literal"><span class="pre">ensure_hg()</span></code> decorators removed.</li>
<li><code class="docutils literal"><span class="pre">call_hg_command()</span></code> function removed.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Issue where <code class="docutils literal"><span class="pre">xonsh</span></code> did not expand user and environment variables in
<code class="docutils literal"><span class="pre">$PATH</span></code>, forcing the user to add absolute paths.</li>
<li>Fixed a problem with aliases not always beeing found.</li>
<li>Fixed issue where input was directed to the last process in a pipeline,
rather than the first.</li>
<li>Bug where xonfig wizard can&#8217;t find ENV docs</li>
<li>Fixed <code class="docutils literal"><span class="pre">xonsh.environ.locate_binary()</span></code> to handle PATH variable are given as a tuple.</li>
<li>Fixed missing completions for <code class="docutils literal"><span class="pre">cd</span></code> and <code class="docutils literal"><span class="pre">`rmdir</span></code> when directories had spaces
in their names.</li>
</ul>
<p>None</p>
<ul class="simple">
<li>Bug preventing <cite>xonsh</cite> executable being installed on macOS.</li>
<li>Strip leading space in commands passed using the &#8220;-c&#8221; switch</li>
<li>Fixed xonfig wizard failing on Windows due to colon in created filename.</li>
<li>Ensured that the prompt_toolkit shell functions, even without a <code class="docutils literal"><span class="pre">completer</span></code>
attribute.</li>
<li>Fixed crash resulting from malformed <code class="docutils literal"><span class="pre">$PROMPT</span></code> or <code class="docutils literal"><span class="pre">$TITLE</span></code>.</li>
<li>xonsh no longer backgrounds itself after every command on Cygwin.</li>
<li>Fixed an issue about <code class="docutils literal"><span class="pre">os.killpg()</span></code> on Cygwin which caused xonsh to crash
occasionally</li>
<li>Fix crash on startup when Bash Windows Subsystem for Linux is on the Path.</li>
<li>Fixed issue with setting and signaling process groups on Linux when the first
process is a function alias and has no pid.</li>
</ul>
<p>None
* Fixed <code class="docutils literal"><span class="pre">_list_completers</span></code> such that it does not throw a ValueError if no completer is registered.
* Fixed <code class="docutils literal"><span class="pre">_list_completers</span></code> such that it does not throw an AttributeError if a completer has no docstring.
None</p>
<ul class="simple">
<li>Bug that caused command line argument <code class="docutils literal"><span class="pre">--config-path</span></code> to be ignored.</li>
</ul>
<p>None</p>
<ul class="simple">
<li>Bug that caused xonsh to break on startup when prompt-toolkit &lt; 1.0.0.</li>
</ul>
</div>
<div class="section" id="v0-3-4">
<h2>v0.3.4<a class="headerlink" href="#v0-3-4" title="Permalink to this headline">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$PROMPT</span></code> from foreign shells is now ignored.</li>
<li><code class="docutils literal"><span class="pre">$RC_FILES</span></code> environment variable now stores the run control files we
attempted to load.</li>
<li>Only show the prompt for the wizard if we did not attempt to load any run
control files (as opposed to if none were successfully loaded).</li>
<li>Git and mercurial branch and dirty function refactor to imporve run times.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed an issue whereby attempting to delete a literal value (e.g., <code class="docutils literal"><span class="pre">del</span> <span class="pre">7</span></code>)
in the prompt_toolkit shell would cause xonsh to crash.</li>
<li>Fixed broken behavior when using <code class="docutils literal"><span class="pre">cd</span> <span class="pre">..</span></code> to move into a nonexistent
directory.</li>
<li>Partial workaround for Cygwin where <code class="docutils literal"><span class="pre">pthread_sigmask</span></code> appears to be missing
from the <code class="docutils literal"><span class="pre">signal</span></code> module.</li>
<li>Fixed crash resulting from malformed <code class="docutils literal"><span class="pre">$PROMPT</span></code>.</li>
<li>Fixed regression on Windows with the locate_binary() function.
The bug prevented <cite>source-cmd</cite> from working correctly and broke the
<code class="docutils literal"><span class="pre">activate</span></code>/<code class="docutils literal"><span class="pre">deactivate</span></code> aliases for the conda environements.</li>
<li>Fixed crash resulting from errors other than syntax errors in run control
file.</li>
<li>On Windows if bash is not on the path look in the registry for the defaults
install directory for GitForWindows.</li>
</ul>
</div>
<div class="section" id="v0-3-3">
<h2>v0.3.3<a class="headerlink" href="#v0-3-3" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Question mark literals, <code class="docutils literal"><span class="pre">?</span></code>, are now allowed as part of
subprocess argument names.</li>
<li>IPython style visual pointer to show where syntax error was detected</li>
<li>Pretty printing of output and syntax highlighting of input and output can now
be controlled via new environment variables <code class="docutils literal"><span class="pre">$COLOR_INPUT</span></code>,
<code class="docutils literal"><span class="pre">$COLOR_RESULTS</span></code>, and <code class="docutils literal"><span class="pre">$PRETTY_PRINT_RESULTS</span></code>.</li>
<li>In interactive mode, if there are stopped or background jobs, Xonsh prompts
for confirmations rather than just killing all jobs and exiting.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">which</span></code> now gives a better verbose report of where the executables are
found.</li>
<li>Tab completion now uses a different interface, which allows new completers
to be implemented in Python.</li>
<li>Most functions in the <code class="docutils literal"><span class="pre">Execer</span></code> now take an extra argument
<code class="docutils literal"><span class="pre">transform</span></code>, indicating whether the syntax tree transformations should
be applied.</li>
<li><code class="docutils literal"><span class="pre">prompt_toolkit</span></code> is now loaded lazily, decreasing load times when using
the <code class="docutils literal"><span class="pre">readline</span></code> shell.</li>
<li>RC files are now executed directly in the appropriate context.</li>
<li><code class="docutils literal"><span class="pre">_</span></code> is now updated by <code class="docutils literal"><span class="pre">![]</span></code>, to contain the appropriate
<code class="docutils literal"><span class="pre">CompletedCommand</span></code> object.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Fixed bug on Windows where <code class="docutils literal"><span class="pre">which</span></code> did not include current directory</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed crashed bash-completer when bash is not avaiable on Windows</li>
<li>Fixed bug on Windows where tab-completion for executables would return all files.</li>
<li>Fixed bug on Windows which caused the bash $PROMPT variable to be used when no
no $PROMPT variable was set in .xonshrc</li>
<li>Improved start-up times by caching information about bash completion
functions</li>
<li>The &#8211;shell-type CLI flag now takes precedence over $SHELL_TYPE specified in
.xonshrc</li>
<li>Fixed an issue about <code class="docutils literal"><span class="pre">os.killpg()</span></code> on OS X which caused xonsh crash with
occasionality</li>
</ul>
</div>
<div class="section" id="v0-3-2">
<h2>v0.3.2<a class="headerlink" href="#v0-3-2" title="Permalink to this headline">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed PermissionError when tab completions tries to lookup executables in
directories without read permissions.</li>
<li>Fixed incorrect parsing of command line flags</li>
</ul>
</div>
<div class="section" id="v0-3-1">
<h2>v0.3.1<a class="headerlink" href="#v0-3-1" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>When a subprocess exits with a signal (e.g. SIGSEGV), a message is printed,
similar to Bash.</li>
<li>Added comma literals to subproc mode.</li>
<li><code class="docutils literal"><span class="pre">&#64;$(cmd)</span></code> has been added as a subprocess-mode operator, which replaces in
the subprocess command itself with the result of running <code class="docutils literal"><span class="pre">cmd</span></code>.</li>
<li>New <code class="docutils literal"><span class="pre">showcmd</span></code> alias for displaying how xonsh interprets subprocess mode
commands and arguments.</li>
<li>Added <code class="docutils literal"><span class="pre">$DYNAMIC_CWD_WIDTH</span></code> to allow the adjusting of the current working
directory width in the prompt.</li>
<li>Added <code class="docutils literal"><span class="pre">$XONSH_DEBUG</span></code> environment variable to help with debuging.</li>
<li>The <code class="docutils literal"><span class="pre">${...}</span></code> shortcut for <code class="docutils literal"><span class="pre">__xonsh_env__</span></code> now returns appropriate
completion options</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>On Windows the default bash completions files <code class="docutils literal"><span class="pre">$BASH_COMPLETIONS</span></code> now points
to the default location of the completions files used by &#8216;Git for Windows&#8217;</li>
<li>On Cygwin, some tweaks are applied to foreign shell subprocess calls and the
readline import, in order to avoid hangs on launch.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Special cased code for handling version of prompt_toolkit &lt; v1.0.0</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Show sorted bash completions suggestions.</li>
<li>Fix bash completions (e.g git etc.) on windows when completions files have
spaces in their path names</li>
<li>Fixed a bug preventing <code class="docutils literal"><span class="pre">source-bash</span></code> from working on Windows</li>
<li>Numerous improvements to job control via a nearly-complete rewrite.</li>
<li>Addressed issue with finding the next break in subproc mode in context
sensitive parsing.</li>
<li>Fixed issue with loading readline init files (inputrc) that seems to be
triggered by libedit.</li>
<li><code class="docutils literal"><span class="pre">$MULTILINE_PROMPT</span></code> now allows colors, as originally intended.</li>
<li>Rectified install issue with Jupyter hook when installing with pyenv,
Jupyter install hook now repects <code class="docutils literal"><span class="pre">--prefix</span></code> argument.</li>
<li>Fixed issue with the xonsh.ply subpackage not being installed.</li>
<li>Fixed a parsing bug whereby a trailing <code class="docutils literal"><span class="pre">&amp;</span></code> on a line was being ignored
(processes were unable to be started in the background)</li>
</ul>
</div>
<div class="section" id="v0-3-0">
<h2>v0.3.0<a class="headerlink" href="#v0-3-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">and</span></code>, <code class="docutils literal"><span class="pre">or</span></code>, <code class="docutils literal"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal"><span class="pre">||</span></code> have been added as subprocess logical operators,
by popular demand!</li>
<li>Subprocesses may be negated with <code class="docutils literal"><span class="pre">not</span></code> and grouped together with parentheses.</li>
<li>New framework for writing xonsh extentions, called <code class="docutils literal"><span class="pre">xontribs</span></code>.</li>
<li>Added a new shell type <code class="docutils literal"><span class="pre">'none'</span></code>, used to avoid importing <code class="docutils literal"><span class="pre">readline</span></code> or
<code class="docutils literal"><span class="pre">prompt_toolkit</span></code> when running scripts or running a single command.</li>
<li>New: <cite>sudo</cite> functionality on Windows through an alias</li>
<li>Automatically enhance colors for readability in the default terminal (cmd.exe)
on Windows. This functionality can be enabled/disabled with the
$INTENSIFY_COLORS_ON_WIN environment variable.</li>
<li>Added <code class="docutils literal"><span class="pre">Ellipsis</span></code> lookup to <code class="docutils literal"><span class="pre">__xonsh_env__</span></code> to allow environment variable checks, e.g. <code class="docutils literal"><span class="pre">'HOME'</span> <span class="pre">in</span> <span class="pre">${...}</span></code></li>
<li>Added an option to update <code class="docutils literal"><span class="pre">os.environ</span></code> every time the xonsh environment changes.
This is disabled by default but can be enabled by setting <code class="docutils literal"><span class="pre">$UPDATE_OS_ENVIRON</span></code> to
True.</li>
<li>Added Windows &#8216;cmd.exe&#8217; as a foreign shell. This gives xonsh the ability to source
Windows Batch files (.bat and .cmd). Calling <code class="docutils literal"><span class="pre">source-cmd</span> <span class="pre">script.bat</span></code> or the
alias <code class="docutils literal"><span class="pre">source-bat</span> <span class="pre">script.bat</span></code> will call the bat file and changes to the
environment variables will be reflected in xonsh.</li>
<li>Added an alias for the conda environment activate/deactivate batch scripts when
running the Anaconda python distribution on Windows.</li>
<li>Added a menu entry to launch xonsh when installing xonsh from a conda package</li>
<li>Added a new <code class="docutils literal"><span class="pre">which</span></code> alias that supports both regular <code class="docutils literal"><span class="pre">which</span></code> and also searches
through xonsh aliases. A pure python implementation of <code class="docutils literal"><span class="pre">which</span></code> is used. Thanks
to Trent Mick. <a class="reference external" href="https://github.com/trentm/which/">https://github.com/trentm/which/</a></li>
<li>Added support for prompt toolkit v1.0.0.</li>
<li>Added <code class="docutils literal"><span class="pre">$XONSH_CACHE_SCRIPTS</span></code> and <code class="docutils literal"><span class="pre">$XONSH_CACHE_EVERYTHING</span></code> environment
variables to control caching of scripts and interactive commands.  These can
also be controlled by command line options <code class="docutils literal"><span class="pre">--no-script-cache</span></code> and
<code class="docutils literal"><span class="pre">--cache-everything</span></code> when starting xonsh.</li>
<li>Added a workaround to allow ctrl-c to interrupt reverse incremental search in
the readline shell</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Running scripts through xonsh (or running a single command with <code class="docutils literal"><span class="pre">-c</span></code>) no
longer runs the user&#8217;s rc file, unless the <code class="docutils literal"><span class="pre">--login</span></code> option is specified.
Also avoids loading aliases and environments from foreign shells, as well as
loading bash completions.</li>
<li>rc files are now compiled and cached, to avoid re-parsing when they haven&#8217;t
changed.  Scripts are also compiled and cached, and there is the option to
cache interactive commands.</li>
<li>Left and Right arrows in the <code class="docutils literal"><span class="pre">prompt_toolkit</span></code> shell now wrap in multiline
environments</li>
<li>Regexpath matching with backticks, now returns an empty list in python mode.</li>
<li>Pygments added as a dependency for the conda package</li>
<li>Foreign shells now allow for setting exit-on-error commands before and after
all other commands via the <code class="docutils literal"><span class="pre">seterrprevcmd</span></code> and <code class="docutils literal"><span class="pre">seterrpostcmd</span></code> arguments.
Sensinble defaults are provided for existing shells.</li>
<li>PLY is no longer a external dependency but is bundled in xonsh/ply. Xonsh can
therefore run without any external dependencies, although having prompt-toolkit
recommended.</li>
<li>Provide better user feedback when running <code class="docutils literal"><span class="pre">which</span></code> in a platform that doesn&#8217;t
provide it (e.g. Windows).</li>
<li>The lexer now uses a custom tokenizer that handles regex globs in the proper
way.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Fixed bug with loading prompt-toolkit shell &lt; v0.57.</li>
<li>Fixed bug with prompt-toolkit completion when the cursor is not at the end of
the line.</li>
<li>Aliases will now evaluate enviornment variables and other expansions
at execution time rather than passing through a literal string.</li>
<li>Fixed environment variables from os.environ not beeing loaded when a running
a script</li>
<li>The readline shell will now load the inputrc files.</li>
<li>Fixed bug that prevented <cite>source-alias</cite> from working.</li>
<li>Now able to <code class="docutils literal"><span class="pre">^C</span></code> the xonfig wizard on start up.</li>
<li>Fixed deadlock on Windows when runing subprocess that generates enough output
to fill the OS pipe buffer.</li>
<li>Sourcing foreign shells will now return a non-zero exit code if the
source operation failed for some reason.</li>
<li>Fixed PermissionError when running commands in directories without read permissions</li>
<li>Prevent Windows fixups from overriding environment vars in static config</li>
<li>Fixed Optional Github project status to reflect added/removed files via git_dirty_working_directory()</li>
<li>Fixed xonsh.exe launcher on Windows, when Python install directory has a space in it</li>
<li>Fixed <cite>$CDPATH</cite> to support <cite>~</cite> and environments variables in its items</li>
</ul>
</div>
<div class="section" id="v0-2-7">
<h2>v0.2.7<a class="headerlink" href="#v0-2-7" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Added new valid <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code> called <code class="docutils literal"><span class="pre">'best'</span></code>. This selects the best value
for the concrete shell type based on the availability on the user&#8217;s machine.</li>
<li>New environment variable <code class="docutils literal"><span class="pre">$XONSH_COLOR_STYLE</span></code> will set the color mapping
for all of xonsh.</li>
<li>New <code class="docutils literal"><span class="pre">XonshStyle</span></code> pygments style will determine the approriate color
mapping based on <code class="docutils literal"><span class="pre">$XONSH_COLOR_STYLE</span></code>.  The associated <code class="docutils literal"><span class="pre">xonsh_style_proxy()</span></code>
is intended for wrapping <code class="docutils literal"><span class="pre">XonshStyle</span></code> when actually being used by
pygments.</li>
<li>The functions <code class="docutils literal"><span class="pre">print_color()</span></code> and <code class="docutils literal"><span class="pre">format_color()</span></code> found in <code class="docutils literal"><span class="pre">xonsh.tools</span></code>
dispatch to the approriate shell color handling and may be used from
anywhere.</li>
<li><code class="docutils literal"><span class="pre">xonsh.tools.HAVE_PYGMENTS</span></code> flag now denotes if pygments is installed and
available on the users system.</li>
<li>The <code class="docutils literal"><span class="pre">ansi_colors</span></code> module is now availble for handling ANSI color codes.</li>
<li><code class="docutils literal"><span class="pre">?</span></code> and <code class="docutils literal"><span class="pre">??</span></code> operator output now has colored titles, like in IPython.</li>
<li><code class="docutils literal"><span class="pre">??</span></code> will syntax highlight source code if pygments is available.</li>
<li>Python mode output is now syntax highlighted if pygments is available.</li>
<li>New <code class="docutils literal"><span class="pre">$RIGHT_PROMPT</span></code> environment variable for displaying right-aligned
text in prompt-toolkit shell.</li>
<li>Added <code class="docutils literal"><span class="pre">!(...)</span></code> operator, which returns an object representing the result
of running a command.  The truth value of this object is True if the
return code is equal to zero and False otherwise.</li>
<li>Optional dependency on the win_unicode_console package to enable unicode
support in cmd.exe on Windows. This can be disabled/enabled with the
<code class="docutils literal"><span class="pre">$WIN_UNICODE_CONSOLE</span></code> environment variable.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>Updated <code class="docutils literal"><span class="pre">$SHELL_TYPE</span></code> default to <code class="docutils literal"><span class="pre">'best'</span></code>.</li>
<li>Shell classes are now responsible for implementing their own color
formatting and printing.</li>
<li>Prompt coloring, history diffing, and tracing uses new color handling
capabilities.</li>
<li>New <code class="docutils literal"><span class="pre">Token.Color</span></code> token for xonsh color names, e.g. we now use
<code class="docutils literal"><span class="pre">Token.Color.RED</span></code> rather than <code class="docutils literal"><span class="pre">Token.RED</span></code>.</li>
<li>Untracked files in git are ignored when determining if a git workdir is
is dirty. This affects the coloring of the branch label.</li>
<li>Regular expression globbing now uses <code class="docutils literal"><span class="pre">re.fullmatch</span></code> instead of
<code class="docutils literal"><span class="pre">re.match</span></code>, and the result of an empty regex glob does not cause the
argument to be deleted.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">xonsh.tools.TERM_COLORS</span></code> mapping has been axed, along with all
references to it. This may cause a problem if you were using a raw color code
in your xonshrc file from <code class="docutils literal"><span class="pre">$FORMATTER_DICT</span></code>. To fix, simply remove these
references.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Multidimensional slicing, as in numpy, no longer throws SyntaxErrors.</li>
<li>Some minor zsh fixes for more platforms and setups.</li>
<li>The <code class="docutils literal"><span class="pre">BaseShell.settitle</span></code> method no longer has its commands captured by
<code class="docutils literal"><span class="pre">$(...)</span></code></li>
</ul>
</div>
<div class="section" id="v0-2-6">
<h2>v0.2.6<a class="headerlink" href="#v0-2-6" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">trace</span></code> alias added that enables users to turn on and off the printing
of source code lines prior to their execution. This is useful for debugging scripts.</li>
<li>New ability to force callable alias functions to be run in the foreground, i.e.
the main thread from which the function was called. This is useful for debuggers
and profilers which may require such access. Use the <code class="docutils literal"><span class="pre">xonsh.proc.foreground</span></code>
decorator on an alias function to flag it. <code class="docutils literal"><span class="pre">ForegroundProcProxy</span></code> and
<code class="docutils literal"><span class="pre">SimpleForegroundProcProxy</span></code> classes have been added to support this feature.
Normally, forcing a foreground alias is not needed.</li>
<li>Added boolean <code class="docutils literal"><span class="pre">$RAISE_SUBPROC_ERROR</span></code> environment variable. If true
and a subprocess command exits with a non-zero return code, a
CalledProcessError will be raised. This is useful in scripts that should
fail at the first error.</li>
<li>If the <code class="docutils literal"><span class="pre">setproctitle</span></code> package is installed, the process title will be
set to <code class="docutils literal"><span class="pre">'xonsh'</span></code> rather than the path to the Python interpreter.</li>
<li>zsh foreign shell interface now supported natively in xonsh, like with Bash.
New <code class="docutils literal"><span class="pre">source-zsh</span></code> alias allows easy access to zsh scripts and functions.</li>
<li>Vox virtual environment manager added.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">foreign_shell_data()</span></code> keyword arguments <code class="docutils literal"><span class="pre">envcmd</span></code> and <code class="docutils literal"><span class="pre">aliascmd</span></code>
now default to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li>Updated alias docs to pull in usage from the commands automatically.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>Hundreds of bugs related to line and column numbers have been addressed.</li>
<li>Fixed path completion not working for absolute paths or for expanded paths on Windows.</li>
<li>Fixed issue with hg dirty branches and $PATH.</li>
<li>Fixed issues related to foreign shell data in files with whitespace in the names.</li>
<li>Worked around bug in ConEmu/cmder which prevented <code class="docutils literal"><span class="pre">get_git_branch()</span></code>
from working in these terminal emulators on Windows.</li>
</ul>
</div>
<div class="section" id="v0-2-5">
<h2>v0.2.5<a class="headerlink" href="#v0-2-5" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>New configuration utility &#8216;xonfig&#8217; which reports current system
setup information and creates config files through an interactive
wizard.</li>
<li>Toolkit for creating wizards now available</li>
<li>timeit and which aliases will now complete their arguments.</li>
<li>$COMPLETIONS_MENU_ROWS environment variable controls the size of the
tab-completion menu in prompt-toolkit.</li>
<li>Prompt-toolkit shell now supports true multiline input with the ability
to scroll up and down in the prompt.</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li>The xonfig wizard will run on interactive startup if no configuration
file is found.</li>
<li>BaseShell now has a singleline() method for prompting a single input.</li>
<li>Environment variable docs are now auto-generated.</li>
<li>Prompt-toolkit shell will now dynamically allocate space for the
tab-completion menu.</li>
<li>Looking up nonexistent environment variables now generates an error
in Python mode, but produces a sane default value in subprocess mode.</li>
<li>Environments are now considered to contain all manually-adjusted keys,
and also all keys with an associated default value.</li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li>Removed <code class="docutils literal"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_layout()</span></code> and
<code class="docutils literal"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_application()</span></code> methods
to reduce portion of xonsh that forks prompt-toolkit. This may require
users to upgrade to prompt-toolkit v0.57+.</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li>First prompt in the prompt-toolkit shell now allows for up and down
arrows to search through history.</li>
<li>Made obtaining the prompt-toolkit buffer thread-safe.</li>
<li>Now always set non-detypable environment variables when sourcing
foreign shells.</li>
<li>Fixed issue with job management if a TTY existed but was not controlled
by the process, posix only.</li>
<li>Jupyter kernel no longer times out when using foreign shells on startup.</li>
<li>Capturing redirections, e.g. <code class="docutils literal"><span class="pre">$(echo</span> <span class="pre">hello</span> <span class="pre">&gt;</span> <span class="pre">f.txt)</span></code>, no longer fails
with a decoding error.</li>
<li>Evaluation in a Jupyter cell will return pformatted object.</li>
<li>Jupyter with redirect uncaptured subprocs to notebook.</li>
<li>Tab completion in Jupyter fixed.</li>
</ul>
</div>
<div class="section" id="v0-2-1-v0-2-4">
<h2>v0.2.1 - v0.2.4<a class="headerlink" href="#v0-2-1-v0-2-4" title="Permalink to this headline">¶</a></h2>
<p>You are reading the docs...but you still feel hungry.</p>
</div>
<div class="section" id="v0-2-0">
<h2>v0.2.0<a class="headerlink" href="#v0-2-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Rich history recording and replaying</li>
</ul>
</div>
<div class="section" id="v0-1-0">
<h2>v0.1.0<a class="headerlink" href="#v0-1-0" title="Permalink to this headline">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li>Naturally typed environment variables</li>
<li>Inherits the environment from BASH</li>
<li>Uses BASH completion for subprocess commands</li>
<li>Regular expression filename globbing</li>
<li>Its own PLY-based lexer and parser</li>
<li>xonsh code parses into a Python AST</li>
<li>You can do all the normal Python things, like arithmetic and importing</li>
<li>Captured and uncaptured subprocesses</li>
<li>Pipes, redirection, and non-blocking subprocess syntax support</li>
<li>Help and superhelp with ? and ??</li>
<li>Command aliasing</li>
<li>Multiline input, unlike ed</li>
<li>History matching like in IPython</li>
<li>Color prompts</li>
<li>Low system overhead</li>
</ul>
</div>
<div class="section" id="id3">
<h2>&lt;v0.1.0<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>The before times, like 65,000,000 BCE.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/ascii_conch_part_color_tight.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Xonsh Change Log</a><ul>
<li><a class="reference internal" href="#v0-4-0">v0.4.0</a></li>
<li><a class="reference internal" href="#v0-3-4">v0.3.4</a></li>
<li><a class="reference internal" href="#v0-3-3">v0.3.3</a></li>
<li><a class="reference internal" href="#v0-3-2">v0.3.2</a></li>
<li><a class="reference internal" href="#v0-3-1">v0.3.1</a></li>
<li><a class="reference internal" href="#v0-3-0">v0.3.0</a></li>
<li><a class="reference internal" href="#v0-2-7">v0.2.7</a></li>
<li><a class="reference internal" href="#v0-2-6">v0.2.6</a></li>
<li><a class="reference internal" href="#v0-2-5">v0.2.5</a></li>
<li><a class="reference internal" href="#v0-2-1-v0-2-4">v0.2.1 - v0.2.4</a></li>
<li><a class="reference internal" href="#v0-2-0">v0.2.0</a></li>
<li><a class="reference internal" href="#v0-1-0">v0.1.0</a></li>
<li><a class="reference internal" href="#id3">&lt;v0.1.0</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="index.html"
                          title="Previous page">&larr; Previous Versions</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="0.2_release_notes.html"
                          title="Next page">&rarr; Xonsh 0.2 Release Notes</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/previous/changelog.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="0.2_release_notes.html" title="Xonsh 0.2 Release Notes"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="index.html" title="Previous Versions"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">xonsh 0.4.0 documentation</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Previous Versions</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Anthony Scopatz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>